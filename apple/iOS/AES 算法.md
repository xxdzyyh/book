# AES 算法

AES 算法是典型的对称加密算法。

摘要算法是不可逆的，它的主要作用是对信息一致性和完整性的校验。而对称加密算法是可逆的，它的主要作用是保证私密信息不被泄露。



AES算法基本概念

* 密钥
* 填充
* 模式



### 密钥

对称加密算法之所以对称，是因为这类算法对明文的加密和解密需要使用**同一个密钥**。

AES支持三种长度的密钥：128位，192位，256位。

平时大家所说的AES128，AES192，AES256，实际上就是指的AES算法对不同长度密钥的使用。

### 填充

AES算法在对明文加密的时候，并不是把整个明文一股脑加密成一整段密文，而是把明文拆分成一个个独立的明文块，每一个铭文块长度128bit，也就是16字节。这些明文块经过AES加密器的复杂处理，生成一个个独立的密文块，这些密文块拼接在一起，就是最终的AES加密结果。

假如一段明文长度是196bit，如果按每128bit一个明文块来拆分的话，第二个明文块只有64bit，不足128bit。这时候怎么办呢？就需要对明文块进行**填充**（Padding）。

* NoPadding：不做任何填充，但是要求明文必须是16字节的整数倍

* PKCS5Padding：如果明文块少于16个字节（128bit），在明文块末尾补足相应数量的字符，且每个字节的值等于缺少的字符数。比如明文：{1,2,3,4,5,a,b,c,d,e},缺少6个字节，则补全为{1,2,3,4,5,a,b,c,d,e**,6,6,6,6,6,6**}

* ISO10126Padding：如果明文块少于16个字节（128bit），在明文块末尾补足相应数量的字节，最后一个字符值等于缺少的字符数，其他字符填充随机数。

  比如明文：{1,2,3,4,5,a,b,c,d,e},缺少6个字节，则可能补全为{1,2,3,4,5,a,b,c,d,e**,5,c,3,G,$,6**}

### 模式

AES的工作模式，体现在把明文块加密成密文块的处理过程中。AES加密过程是在一个4×4的字节矩阵上运作，这个矩阵又称为“状态（state）”。

AES加密算法提供了五种不同的工作模式：

CBC、ECB、CTR、CFB、OFB。

* CBC



## iOS 实现

https://github.com/WelkinXie/AESCipher-iOS